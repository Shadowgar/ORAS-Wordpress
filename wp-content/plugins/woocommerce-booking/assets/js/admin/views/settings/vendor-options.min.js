var vendor_options=Vue.component("tab-vendor-options",{template:"#vendor-options-tab",data:()=>({data:{settings:{},bkap_booking_types:bkap_view_vendor_options_param.bkap_booking_types,bkap_vendor_plugin_notice:!1,label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings},plugin_not_activated_message:bkap_view_vendor_options_param.plugin_not_activated_message},show_saved_message:!1,show_error_message:!1,show_saving_loader:!1,show_loading_loader:!0,ajax_error:!1,error_message:""}),mounted(){this.initChoice(),this.data.settings=bkap_view_vendor_options_param.data,this.show_loading_loader=!1,this.data.settings.booking_type.forEach(key=>{tyche.bkap.choices_js.instances.choiceSelectBookingType.setChoiceByValue(key)}),this.data.bkap_vendor_plugin_notice=bkap_view_vendor_options_param.bkap_vendor_plugin_notice},methods:{initChoice(){tyche.bkap.choices_js.instances.choiceSelectBookingType=new Choices(this.$refs.choiceSelectBookingType,{removeItems:!0,removeItemButton:!0,placeholder:!0,placeholderValue:"Select Booking Types"})},save_settings(){this.show_saved_message=!1,this.show_error_message=!1,this.show_saving_loader=!0,this.show_loading_loader=!1,this.ajax_error=!1,this.error_message="";let $this=this;axios.post(`${tyche.bkap.rest_url()}global-settings/save-vendor-options`,{data:$this.data.settings},{headers:{"X-WP-Nonce":bkap_params.nonce}}).then(function(response){void 0!==response.data?"success"===response.data.type?$this.show_saved_message=!0:"error"===response.data.type&&($this.error_message=response.data.error_description,$this.show_error_message=!0):($this.error_message=tyche.bkap.return_label("axios_get_error"),$this.show_error_message=!0),$this.show_saving_loader=!1}).catch(function(error){$this.error_message=tyche.bkap.return_label("axios_get_error",error),$this.show_saving_loader=!1,$this.show_error_message=!0}),document.getElementById("bkap-page").scrollIntoView({behavior:"smooth",block:"start"})}}});
