Vue.use(VueRouter);var welcome=Vue.component("onboarding-welcome",{template:"#onboarding-welcome"}),appearance_settings=Vue.component("onboarding-appearance-settings",{template:"#onboarding-appearance-settings",data:()=>({data:{settings:{},config:{date_formats:bkap_onboarding_param.bkap_date_formats,time_formats:bkap_onboarding_param.bkap_time_formats,bkap_days:bkap_onboarding_param.bkap_days,bkap_calendar_themes:bkap_onboarding_param.bkap_calendar_themes},label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings}},show_saved_message:!1,show_error_message:!1,show_loading_loader:!1,error_message:""}),mounted(){let $this=this;$this.data.settings=bkap_onboarding_param.appearance_data,$this.show_loading_loader=!1,setTimeout(function(){$this.set_calendar_theme()},500)},methods:{set_calendar_theme(){var sheet=document.getElementById("bkap-jquery-ui-style-css");null!==sheet&&(sheet.disabled=!0,sheet.parentNode.removeChild(sheet)),link=document.createElement("link"),link.rel="stylesheet",link.type="text/css",link.id="bkap-jquery-ui-style-css",link.href=bkap_params.bkap_calendar_theme_url.replace("{CALENDAR_THEME}",this.data.settings.booking_themes),document.getElementsByTagName("HEAD")[0].appendChild(link)},save_appearance_settings:function(){$this=this,$this.show_loading_loader=!0,axios.post(`${tyche.bkap.rest_url()}global-settings/save`,{data:$this.data.settings},{headers:{"X-WP-Nonce":bkap_params.nonce}}).then(function(response){void 0!==response.data&&"success"===response.data.type?$this.show_loading_loader=!1:($this.error_message=tyche.bkap.return_label("axios_get_error"),$this.show_loading_loader=!1,$this.show_error_message=!0)}).catch(function(error){self.error_message=tyche.bkap.return_label("axios_get_error",error),self.show_loading_loader=!1,self.show_error_message=!0})}}}),booking_settings=Vue.component("onboarding-booking-settings",{template:"#onboarding-booking-settings",data:()=>({data:{settings:{bkap_booking_type:"only_day",bkap_weekdays:{booking_weekday_0:"on",booking_weekday_1:"on",booking_weekday_2:"on",booking_weekday_3:"on",booking_weekday_4:"on",booking_weekday_5:"on",booking_weekday_6:"on"},bkap_inline:""},config:{bkap_booking_types:bkap_onboarding_param.bkap_booking_types,bkap_weekdays:bkap_onboarding_param.bkap_weekdays},label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings},weekdays:{booking_weekday_0:"on",booking_weekday_1:"on",booking_weekday_2:"on",booking_weekday_3:"on",booking_weekday_4:"on",booking_weekday_5:"on",booking_weekday_6:"on"}},show_saved_message:!1,show_error_message:!1,show_loading_loader:!1,ajax_error:!1,error_message:""}),methods:{save_booking_settings:function(){$this=this,$this.show_loading_loader=!0,axios.post(`${tyche.bkap.rest_url()}onboarding/booking-settings`,{data:$this.data.settings},{headers:{"X-WP-Nonce":bkap_params.nonce}}).then(function(response){void 0!==response.data&&"success"===response.data.type?$this.show_loading_loader=!1:($this.error_message=tyche.bkap.return_label("axios_get_error"),$this.show_loading_loader=!1,$this.show_error_message=!0)}).catch(function(error){self.error_message=tyche.bkap.return_label("axios_get_error",error),self.show_loading_loader=!1,self.show_error_message=!0})}}}),edit_reschedule=Vue.component("onboarding-edit-reschedule",{template:"#onboarding-edit-reschedule",data:()=>({data:{settings:{bkap_enable_booking_reschedule:"",bkap_booking_reschedule_hours:0,bkap_enable_booking_cancel:"",bkap_booking_minimum_hours_cancel:0},label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings}},show_saved_message:!1,show_error_message:!1,show_loading_loader:!1,error_message:""}),methods:{save_edit_reschedule:function(){$this=this,$this.show_loading_loader=!0,axios.post(`${tyche.bkap.rest_url()}onboarding/reschedule-cancel`,{data:$this.data.settings},{headers:{"X-WP-Nonce":bkap_params.nonce}}).then(function(response){void 0!==response.data&&"success"===response.data.type?$this.show_loading_loader=!1:($this.error_message=tyche.bkap.return_label("axios_get_error"),$this.show_loading_loader=!1,$this.show_error_message=!0)}).catch(function(error){self.error_message=tyche.bkap.return_label("axios_get_error",error),self.show_loading_loader=!1,self.show_error_message=!0})}}}),labels=Vue.component("onboarding-labels",{template:"#onboarding-labels",data:()=>({data:{settings:bkap_onboarding_param.labels_data,label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings}},show_saved_message:!1,show_error_message:!1,show_loading_loader:!1,error_message:""}),methods:{save_labels:function(){$this=this,$this.show_loading_loader=!0,axios.post(`${tyche.bkap.rest_url()}onboarding/labels`,{data:$this.data.settings},{headers:{"X-WP-Nonce":bkap_params.nonce}}).then(function(response){void 0!==response.data&&"success"===response.data.type?$this.show_loading_loader=!1:($this.error_message=tyche.bkap.return_label("axios_get_error"),$this.show_loading_loader=!1,$this.show_error_message=!0)}).catch(function(error){self.error_message=tyche.bkap.return_label("axios_get_error",error),self.show_loading_loader=!1,self.show_error_message=!0})}}}),data_finish=Vue.component("onboarding-finish",{template:"#onboarding-finish",data:()=>({data:{settings:{},label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings}},show_saved_message:!1,show_error_message:!1,show_loading_loader:!1,error_message:""}),methods:{save_finish:function(){}}}),finish=Vue.component("onboarding-finish",{template:"#onboarding-finish",data:()=>({data:{settings:{bkap_booking_type:"only_day",bkap_weekdays:bkap_onboarding_param.bkap_booking_types,bkap_inline:!1},config:{bkap_booking_types:bkap_onboarding_param.bkap_booking_types,bkap_weekdays:bkap_onboarding_param.bkap_weekdays},label:{saving_loader:bkap_params.vue.label.saving_loader,loading_loader:bkap_params.vue.label.loading_loader,save_settings:bkap_params.vue.label.save_settings,connect_to_google_calendar:bkap_params.vue.label.connect_to_google_calendar,logout_from_google_calendar:bkap_params.vue.label.logout_from_google_calendar}},show_saved_message:!1,show_error_message:!1,show_loading_loader:!1,error_message:""}),methods:{save_finish:function(){}}});function getAvailableRoutes(){const baseRoutes=[{path:"/",name:"welcome",component:welcome},{path:"/appearance-settings",name:"appearance-settings",component:appearance_settings},{path:"/booking-settings",name:"booking-settings",component:booking_settings},{path:"/edit-reschedule",name:"edit-reschedule",component:edit_reschedule},{path:"/labels",name:"labels",component:labels}];return"undefined"!=typeof data_tracking&&data_tracking?baseRoutes.push({path:"/data-tracking",name:"data-tracking",component:data_tracking}):baseRoutes.push({path:"/data-tracking",name:"data-tracking",component:data_finish}),baseRoutes.push({path:"/finish",name:"finish",component:finish}),baseRoutes}const routes=getAvailableRoutes(),router=new VueRouter({routes:routes});new Vue({el:"#bkap-page",data:{currentTab:"Welcome",nextTabId:"",currentTabId:0,tabs:["welcome","weekdays","business","timeslots","mdt"],delivery_days:[]},computed:{currentRouteName(){return this.$route.name},nextRouteName(){return this.tabs[this.tabs.indexOf(this.$route.name)+1]},prevRouteName(){return this.tabs[this.tabs.indexOf(this.$route.name)-1]}},router:router});
